<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  template="<img src='./assets/imgs/new logo animation.gif'/>"
></ngx-spinner>

<app-main-nav-bar></app-main-nav-bar>

<div class="container">
  <div class="header mb-4 d-flex align-items-center justify-content-between">
    <h3 class="mb-0 h5 fw-bold">معلوماتك الشخصية</h3>
    <i class="fa-solid fa-angle-left" routerLink="/account-menu"></i>
  </div>
  <p-breadcrumb class="max-w-full" [model]="items" [home]="home">
    <ng-template pTemplate="separator"> > </ng-template>
  </p-breadcrumb>

  <div class="row gy-4">
    <div class="col-lg-3">
      <div
        class="change-avatar d-flex flex-column align-items-center justify-content-center"
        [class.py-5]="avatarURL === ''"
        (click)="fileInput.click()"
      >
        <div class="image" *ngIf="!avatarURL && !isLoading">
          <img
            src="./assets/imgs/icons/upload.png"
            alt="upload icon"
            class="mb-2"
          />
        </div>
        <div
          class="image d-flex align-items-center justify-content-center"
          *ngIf="isLoading"
        >
          <p class="mb-0 fw-bold">جارٍ رفع الصورة ...</p>
        </div>
        <div class="image avatar" *ngIf="avatarURL && !isLoading">
          <img [src]="avatarURL" alt="avatar" class="mb-2" />
        </div>

        <input
          type="file"
          #fileInput
          class="d-none"
          (change)="onselectFile($event)"
          name="avatarSelection"
        />

        <p *ngIf="!avatarURL && !isLoading" class="mb-0">
          قم بإضافة صورة شخصية
        </p>
      </div>
    </div>

    <div class="col-lg-9">
      <div class="personal-details px-4">
        <h1 class="h3">معلوماتك الشخصية</h1>

        <div
          class="personal-info d-flex justify-content-between align-items-start py-4 border-bottom"
        >
          <div class="content">
            <h3 class="h4 fw-bold mb-1">الاسم</h3>
            <p class="mb-0">{{ name }}</p>
          </div>
          <button
            class="btn p-0 text-decoration-underline"
            (click)="editNameModal()"
          >
            تعديل
          </button>
        </div>
        <div
          class="personal-info d-flex justify-content-between align-items-start py-4 border-bottom"
        >
          <div class="content">
            <h3 class="h4 fw-bold mb-1">الايميل</h3>
            <p class="mb-0">{{ email }}</p>
          </div>
        </div>
        <div
          class="personal-info d-flex justify-content-between align-items-start py-4 border-bottom"
        >
          <div class="content">
            <h3 class="h4 fw-bold mb-1">رقم الموبايل</h3>
            <p class="mb-0">{{ phone }}</p>
          </div>
          <button
            class="btn p-0 text-decoration-underline"
            (click)="editPhoneNumberModal()"
          >
            تعديل
          </button>
        </div>
        <div
          class="personal-info d-flex justify-content-between align-items-start py-4 border-bottom"
        >
          <div class="content">
            <h3 class="h4 fw-bold mb-1">الرقم القومي/جواز السفر</h3>
            <p class="mb-0">{{ nationalId }}</p>
          </div>
          <button
            class="btn p-0 text-decoration-underline"
            (click)="editNationalIdModal()"
          >
            اضافه
          </button>
        </div>
        <div
          class="personal-info d-flex justify-content-between align-items-start py-4 border-bottom"
        >
          <div class="content">
            <h3 class="h4 fw-bold mb-1">كلمة المرور</h3>
            <p class="mb-0">********</p>
          </div>
          <button
            class="btn p-0 text-decoration-underline"
            (click)="editPasswordModal()"
          >
            تعديل
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
